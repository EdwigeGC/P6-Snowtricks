{% extends 'base.html.twig' %}

{% block title %}Edit a trick{% endblock %}

{% block body %}
    <!--main container-->
    <div class="container">

        <!--main image and trick's name-->
        {{ form_start(form) }}
        <div class="container text-center py-5">
            <div class="row">
                <div class="col-md-12">
                    <h1 class="fw-light">{{ form_row(form.name) }} </h1>
                    {% for picture in trick.pictures %}
                        <img src="{{ asset('uploads/tricks/'~ picture.fileName)}}" class="img-thumbnail" alt="{{ picture.title }}">
                        <a href="{{ path('edit_media', { 'id':picture.id, 'tricks': trick.id }) }}" ><i class="fas fa-pencil-alt"></i></a>
                        <a href="" onclick="return confirm('Do you really want to delete this trick?')"><i class="fas fa-trash-alt"></i></a>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!--medias-->

        <div class="container">
            <div class="row row-cols-4 my-2 py-2">

                {% for picture in trick.pictures %}
                    <img src="{{ asset('uploads/tricks/'~ picture.fileName)}}" class="img-thumbnail" alt="{{ picture.title }}">
                    <div>
                        <a href="{{ path('edit_media', { 'id':picture.id, 'tricks': trick.id }) }}" ><i class="fas fa-pencil-alt"></i></a>
                        <a href="" onclick="return confirm('Do you really want to delete this trick?')"><i class="fas fa-trash-alt"></i></a>
                    </div>
                {% endfor %}

                {% for video in trick.videos %}
                    <iframe width="560" height="315" src="{{ video.url }}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    <div>
                        <a href="{{ path('edit_media', {'id': video.id}) }}" ><i class="fas fa-pencil-alt"></i></a>
                        <a href="" onclick="return confirm('Do you really want to delete this trick?')"><i class="fas fa-trash-alt"></i></a>
                    </div>
                {% endfor %}
            </div>
        </div>

        <!--description et category-->
        <div class="container">

            <div class="row">
                <div class= "col-md-10">
                    <h2> Description </h2>
                    {{ form_row(form.description) }}
                </div>
            </div>

            <div class="row">
                <div class= "col-md-10">
                    {{ form_row(form.category) }}
                </div>
            </div>
        </div>

        <div class="col-2">
            <button class="btn btn-primary" type="submit">Save</button>
            <button class="btn btn-danger" type="button" data-action="delete">Delete</button>
        </div>
    </div>

{% endblock %}